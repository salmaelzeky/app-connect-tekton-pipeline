BROKER SCHEMA esb.framework.esql


CREATE PROCEDURE LogToConsole(IN desc CHARACTER , IN GUID CHARACTER , IN data CHARACTER)
LANGUAGE JAVA
EXTERNAL NAME "esb.framework.java.lib.ConsoleLog.log";

CREATE FUNCTION LogMsg(IN desc CHARACTER , IN GUID CHARACTER , IN msgRef REFERENCE)
BEGIN
	DECLARE blobMsg BLOB;
	DECLARE msg CHARACTER;
	SET blobMsg = ASBITSTREAM(msgRef CCSID 1208 ENCODING 546);
	SET msg = CAST(blobMsg AS CHARACTER CCSID 1208 ENCODING 546);
	CALL LogToConsole(desc,GUID,msg);
END ;
